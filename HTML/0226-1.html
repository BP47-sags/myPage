<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>ch.11 表單</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/mycss01.css">

    <style>

    </style>

</head>

<body>
    <div class="container pb-5">
        <div class="display-3 p-3 my-4 fw-700">ch.11 表單相關應用</div>

        <div class="h1 p-3 fw-700 text-secondary">1. 表單樣式(form)</div>
        <div class="row">
            <div class="col-12">
                <form id="myForm">

                    <div class="mb-3">
                        <label for="" class="form-label">帳號</label>
                        <input type="text" class="form-control" id="username01" placeholder="帳號字數1~6">
                        <div class="valid-feedback">輸入符合規定</div>
                        <div class="invalid-feedback">輸入不符合規定</div>
                    </div>

                    <div class="mb-3">
                        <label for="" class="form-label">密碼</label>
                        <input type="password" class="form-control" id="password01" placeholder="密碼字數2~8">
                        <div class="valid-feedback">輸入符合規定</div>
                        <div class="invalid-feedback">輸入不符合規定</div>
                    </div>

                    <div class="mb-3">
                        <label for="" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email01" placeholder="Email字數2~10">
                        <div class="valid-feedback">輸入符合規定</div>
                        <div class="invalid-feedback">輸入不符合規定</div>
                    </div>

                    <button type="submit" class="btn btn-primary">送出</button>

                </form>
            </div>
        </div>

        <hr class="mt-5">
        <div class="h1 p-3 fw-700 text-secondary">2. 表單樣式(不使用form)</div>
        <div class="row">
            <div class="col-12">

                <div class="mb-3">
                    <label for="" class="form-label">帳號</label>
                    <input type="text" class="form-control" id="username02" placeholder="帳號字數1~6">
                    <div class="valid-feedback">輸入符合規定</div>
                    <div class="invalid-feedback">輸入不符合規定</div>
                </div>

                <div class="mb-3">
                    <label for="" class="form-label">密碼</label>
                    <input type="password" class="form-control" id="password02" placeholder="密碼字數2~8">
                    <div class="valid-feedback">輸入符合規定</div>
                    <div class="invalid-feedback">輸入不符合規定</div>
                </div>

                <div class="mb-3">
                    <label for="" class="form-label">Email</label>
                    <input type="email" class="form-control" id="email02" placeholder="Email字數2~10">
                    <div class="valid-feedback">輸入符合規定</div>
                    <div class="invalid-feedback">輸入不符合規定</div>
                </div>

                <button type="button" class="btn btn-primary" id="btn02">送出</button>

            </div>
        </div>

        <hr class="mt-5">
        <div class="h1 p-3 fw-700 text-secondary">3. select</div>
        <div class="row">
            <div class="col-12">
                <select name="" id="mycity" class="form-select form-select-lg">
                    <option value="" class="text-center" disabled selected>--請選擇縣市--</option>
                    <option value="台北市">台北市</option>
                    <option value="台中市">台中市</option>
                    <option value="台南市">台南市</option>
                </select>
            </div>
        </div>

        <hr class="mt-5">
        <div class="h1 p-3 fw-700 text-secondary">ex. 餐點選單練習(select)</div>
        <div class="row">
            <div class="col-12">
                <select name="" id="mydrink" class="form-select form-select-lg">
                    <option value="" class="text-center" disabled selected>--請選擇飲料--</option>
                </select>
            </div>
        </div>

        <hr class="mt-5">
        <div class="h1 p-3 fw-700 text-secondary">4. range</div>
        <div class="row">
            <div class="mb-3">
                <label for="" class="form-label">數量: <span class="text-success h3 fw-400" id="num_text">50</span>個</label>
                <input type="range" class="form-range" min="0" max="100" step="5" id="num">
            </div>
        </div>


    </div>
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="../js/jquery-4.0.0.js"></script>
    <script>

        // 公有變數
        let flag_username01 = false;
        let flag_password01 = false;
        let flag_email01 = false;

        let flag_username02 = false;
        let flag_password02 = false;
        let flag_email02 = false;

        const drinkData = [
            {
                "name": "Soy Milk",
                "price": 30,
                "description": "A nutritious and rich traditional drink made from non-GMO soybeans.",
                "drink_type": "豆漿"
            },
            {
                "name": "Black Tea",
                "price": 25,
                "description": "Classic fully fermented tea with a deep aroma and a hint of malt.",
                "drink_type": "紅茶"
            },
            {
                "name": "Green Tea",
                "price": 25,
                "description": "Fresh and light unfermented tea, rich in antioxidants and refreshing taste.",
                "drink_type": "綠茶"
            },
            {
                "name": "Oolong Tea",
                "price": 35,
                "description": "Semi-fermented tea with a unique floral aroma and a smooth, lingering finish.",
                "drink_type": "烏龍茶"
            },
            {
                "name": "Pearl Milk Tea",
                "price": 60,
                "description": "World-famous Taiwanese drink featuring chewy tapioca pearls in creamy milk tea.",
                "drink_type": "珍珠奶茶"
            },
            {
                "name": "Lemon Ai-Yu Jelly",
                "price": 45,
                "description": "A refreshing summer dessert drink with natural jelly and fresh lemon juice.",
                "drink_type": "檸檬愛玉"
            },
            {
                "name": "Taro Milk",
                "price": 65,
                "description": "Real mashed taro blended with fresh milk for a thick and naturally sweet flavor.",
                "drink_type": "芋頭鮮奶"
            },
            {
                "name": "Passion Fruit Green Tea",
                "price": 50,
                "description": "Tangy passion fruit seeds mixed with jasmine green tea for a tropical vibe.",
                "drink_type": "百香綠茶"
            },
            {
                "name": "Brown Sugar Latte",
                "price": 70,
                "description": "Rich caramelized brown sugar syrup swirled with premium fresh milk.",
                "drink_type": "黑糖鮮奶"
            },
            {
                "name": "Winter Melon Tea",
                "price": 30,
                "description": "Traditional cooling tea made by simmering winter melon with brown sugar.",
                "drink_type": "冬瓜茶"
            }
        ]


        // 主程式
        $(function () {
            // 表單程式區塊
            $("#myForm").submit(function (e) {
                if (flag_username01 && flag_password01 && flag_email01) {
                    e.preventDefault();
                    console.log("form表單觸發");
                    console.log($("#username01").val());
                    console.log($("#password01").val());
                    console.log($("#email01").val());
                }
                else {
                    e.preventDefault();
                    alert("欄位有誤，請修正");
                }
            })

            // 帳號即時監聽
            $("#username01").blur(function () {
                if ($(this).val().length > 0 && $(this).val().length < 7) {
                    // 符合規定
                    $(this).removeClass("is-invalid").addClass("is-valid");
                    flag_username01 = true;
                }
                else {
                    // 不符合規定
                    $(this).removeClass("is-valid").addClass("is-invalid");
                    flag_username01 = false;
                }
            });

            // 密碼即時監聽
            $("#password01").blur(function () {
                if ($(this).val().length > 1 && $(this).val().length < 9) {
                    $(this).removeClass("is-invalid").addClass("is-valid");
                    flag_password01 = true;
                }
                else {
                    $(this).removeClass("is-valid").addClass("is-invalid");
                    flag_password01 = false;
                }
            });

            // Email即時監聽
            $("#email01").blur(function () {
                if ($(this).val().length > 1 && $(this).val().length < 11) {
                    $(this).removeClass("is-invalid").addClass("is-valid");
                    flag_email01 = true;
                }
                else {
                    $(this).removeClass("is-valid").addClass("is-invalid");
                    flag_email01 = false;
                }
            });

            // 按鈕程式區塊
            $("#btn02").click(function () {
                if (flag_username02 && flag_password02 && flag_email02) {
                    console.log("btn按鈕觸發");
                    console.log($("#username02").val());
                    console.log($("#password02").val());
                    console.log($("#email02").val());
                }
                else alert("欄位有誤，請修正");
            });

            $("#username02").blur(function () {
                if ($(this).val().length > 0 && $(this).val().length < 7) {
                    // 符合規定
                    $(this).removeClass("is-invalid").addClass("is-valid");
                    flag_username02 = true;
                }
                else {
                    // 不符合規定
                    $(this).removeClass("is-valid").addClass("is-invalid");
                    flag_username02 = false;
                }
            });

            $("#password02").blur(function () {
                if ($(this).val().length > 1 && $(this).val().length < 9) {
                    $(this).removeClass("is-invalid").addClass("is-valid");
                    flag_password02 = true;
                }
                else {
                    $(this).removeClass("is-valid").addClass("is-invalid");
                    flag_password02 = false;
                }
            });

            $("#email02").blur(function () {
                if ($(this).val().length > 1 && $(this).val().length < 11) {
                    $(this).removeClass("is-invalid").addClass("is-valid");
                    flag_email02 = true;
                }
                else {
                    $(this).removeClass("is-valid").addClass("is-invalid");
                    flag_email02 = false;
                }
            });

            // select程式區塊
            $("#mycity").change(function () {
                console.log($(this).val());
            });

            // 菜單程式區塊
            drinkData.forEach(function (item) {
                let strHTML = `<option value="${item.name}">${item.drink_type}</option>`;
                $("#mydrink").append(strHTML);
            });
            $("#mydrink").change(function () {
                console.log($(this).val());
            });

            // range程式區塊
            $("#num").on("input", function () {
                // console.log($(this).val());
                $("#num_text").text($(this).val());
            });

        });

    </script>
</body>

</html>